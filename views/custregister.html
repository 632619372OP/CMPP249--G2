<!DOCTYPE html>
<html>
    <head>
        <title>Travel Experts</title>

        <link rel="stylesheet" href="../public/homePageStyle.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com"/>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Edu+TAS+Beginner&family=Ephesis&display=swap" rel="stylesheet" />
        
        <script type = "text/javascript">
            
            function validateForm(myform){
				const checkForms = [];
                var errorMessage = "";
				checkForms.Push(document.getElementById("pcode"))
				checkForms.Push(document.getElementById("fname"))
                checkForms.Push(document.getElementById("lname"))
                checkForms.Push(document.getElementById("city"))
                checkForms.Push(document.getElementById("prov"))
                checkForms.Push(document.getElementById("streetaddress"))
                checkForms.Push(document.getElementById("custemail"))
                checkForms.Push(document.getElementById("custtel"))
                checkForms.Push(document.getElementById("username"))
                checkForms.Push(document.getElementById("password"))
                checkForms.Push(document.getElementById("confpassword"))
                for(const elem of checkForms){ // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of
                    if (elem.value == ""){
                        errorMessage += "Please enter a " + elem.name + ".<br>"
                        elem.style.borderColor = "red";
					}
                }
                
                var postalField = document.getElementById("pcode");
				var exp = new RegExp(/^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ -]?\d[ABCEGHJ-NPRSTV-Z]\d$/i); // regex with canadian postal code validation
				var postal = postalField.value.trim().toUpperCase();				
                postalField.value = postal;
				if (!exp.test(postal)){
					errorMessage += "Please enter a valid postal code.<br>";
					postalField.style.borderColor = "red";
				}
				exp = new RegExp(/^(\+\d{1,2}\s?)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/i); //https://stackoverflow.com/a/16699507
                var phoneField = document.getElementById("custtel");
                if(!exp.test(phoneField)){
                    errorMessage += "Please enter a valid 10 digit phone number.<br>";
					phoneField.style.borderColor = "red";
                }

				if (!errorMessage)
				{
					return confirm("Continue submitting?");
				}
				else
				{
					document.getElementById("message").innerText = errorMessage;
					return false;
				}
			}
            
            function registerScreen(){
                document.getElementById("screenblur").style.visibility = 'visible';
                document.getElementById("registerpopup").style.visibility = 'visible';
            }
            function closeRegister(){
                document.getElementById("screenblur").style.visibility = 'hidden';
                document.getElementById("registerpopup").style.visibility = 'hidden';
            }
            var ReqPopParent;
            function drawReqPopup(srcElem){
                ReqPopParent = srcElem
                document.getElementById("requirementspopup").style.visibility = 'visible';
                switch(srcElem.id){
                    case "username":
                        document.getElementById("requirementspopup").innerHTML = "<h3>Username Must</h3>Be Unique<br>Have at least 6 characters"
                        break;
                    case "password":
                        document.getElementById("requirementspopup").innerHTML = "<h3>Password Must</h3>Have 8 characters minimum<br>Have at least one number<br>Have at least one uppercase letter"
                        break;
                    case "pcode":
                        document.getElementById("requirementspopup").innerHTML = "<h3>Postal Code</h3>Please enter a valid postal code<br>Ex: B1N 0A0"
                        break;
                    case "custtel":
                        document.getElementById("requirementspopup").innerHTML = "<h3>Phone Number</h3>Your primary contact number, either mobile or homephone."
                        break;
                    case "buistel":
                        document.getElementById("requirementspopup").innerHTML = "<h3>Business Phone Number</h3>Optionally, add the phone number for your business phone."
                        break;
                    case "confpassword":
                        document.getElementById("requirementspopup").innerHTML = "<h3>Confirm Password</h3>Both password fields must match."
                        break;
                    
                }

            }
            function hideReqPopup(srcElem){
                if (srcElem == ReqPopParent){
                    document.getElementById("requirementspopup").style.visibility = 'hidden';
                }
            }
			
		</script>

    </head>
    <div class="screenblur" id="screenblur"></div>
    <header>
        
        <div class="headText">
            <img src="../Media/Logo.png" alt="Logo for our company" />
            <h1>Welcome to Travel Experts</h1>
            <h1 class="vacation">Your Dream Vacation Starts Here </h1>
        </div>
        <!--images-->
    </header>
    <body>
        
        <nav>
            <ul type="none" class="menu">
                <li class="menuItem"><a href="homePage.html" class="active">Home Page</a> </li>
                <li class="menuItem"><a href="contactUs.html" class="inActive">Contacts</a> </li>
                <li class="menuItem"><a href="VacationPackages.html" class="inActive">Browse Vacation Packages</a> </li>
                <li class="menuItem"><a href="customerRegistration.html" class="inActive">Register</a> </li>
            </ul>
        </nav>
        <br><br>
        <div class ="loginButtons">
            <ul type="none" class="menu">
                <li class="menuItem"><a href="#" onclick="registerScreen()"class="inActive">Register</a> </li>
                <li class="menuItem"><a href="#" onclick="loginScreen()" class="inActive">Login</a> </li>
            </ul>  
        </div>
        <h1>Your Account..</h1>
        <div class="popup" id="registerpopup">
            <button class="closebutton" onclick="closeRegister()">&#10006;</button>
            <h1>Register</h1>
            <form method="get" action="bouncer.php" class="formClass" onSubmit="return validateForm(this);">
				<input type="text" id="firstname" name="First name" placeholder="First Name" onfocus="displayText('pfname')"/>
                <input type="text" id="lastname" name="Last name" placeholder="Last Name" onfocus="displayText('plname')"/><br>
                <input type="text" id="city" name="City" placeholder="City" onfocus="displayText('pfname')"/>
                <select id="prov" name="Province">
						<option value="AB">Alberta</option>
						<option value="SK">Saskatchewan</option>
						<option value="YK">Yukon</option>
				</select>   
				<br><input type="text" id="streetaddress" name="Street Address" placeholder="Street Address"/>
                <input type="text" id="pcode" name="Postal Code" size=10 placeholder="Postal Code" onfocus="drawReqPopup(this)" onblur="hideReqPopup(this)"/>
                <br><input type="email" id="custemail" name="Email" placeholder="Email">
                <input type="tel" id="custtel" name="Phone Number" placeholder="Phone Number" onfocus="drawReqPopup(this)" onblur="hideReqPopup(this)"/>
                <br><input type="tel" id="buistel" name="Business Phone" placeholder="*Optional Business Phone"  onfocus="drawReqPopup(this)" onblur="hideReqPopup(this)"/>
                <br><br><input type='text' id='username' name="Username" placeholder="Username" onfocus="drawReqPopup(this)" onblur="hideReqPopup(this)"/>
                <br><input type='password' id='password' name="Password"  placeholder="Password" onfocus="drawReqPopup(this)" onblur="hideReqPopup(this)"/>
				<input type='password' id='confpassword' name="Confirmation Password"  placeholder="Retype Password" onfocus="drawReqPopup(this)" onblur="hideReqPopup(this)"/>
                <br><br><button type="submit">Sign Up</button>
				<button type="reset" onclick="return confirm('Did you really want to reset?')">Reset</button>
                <br><p class="loginlink"><i>Already have an account? <a href="#" onclick="loginScreen()">Login Here</a></i></p>
            </form>
            <div class="requirementspopup" id="requirementspopup">
                
            </div>
        </div>
        
        <h3></h3>
        <ul class="factsList">
            <li class="fact"><p>Gives you detailed information about your travel bookings, including past trips.</p> </li>
            <li class="fact"><p>Easily book your dream vacations and personalize it with related services.</p> </li>
            <li class="fact"><p>Earn rewards and enjoy targeted offers to make your next trip as affordable as ever.</p></li>
        </ul>
    </body>
    <footer>
        <p>this page is copyright claimed by TravelExperts 2023 &copy;</p>
    </footer>

</html>